proxy-providers:
  # === ä¸»è®¢é˜… ===
  01_Main:
    url: "-----"
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    # å…³é”®é…ç½®ï¼šæ·»åŠ å‰ç¼€ï¼Œä¾¿äºåŒºåˆ†
    override:
      additional-prefix: "[ä¸»]"

  # === å¤‡è®¢é˜… ===
  02_Backup:
    url: "-----"
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    # å…³é”®é…ç½®ï¼šæ·»åŠ å‰ç¼€ï¼Œä¾¿äºåŒºåˆ†
    override:
      additional-prefix: "[å¤‡]"

proxies:
  - {name: ç›´è¿, type: direct}

# å®šä¹‰é”šç‚¹ï¼šç»Ÿä¸€çš„èŠ‚ç‚¹é¡ºåº (ç¾-æ—¥-æ–°-å°-æ¸¯)
common-proxies: &pr
  - ğŸ”¯ ç¾å›½æ•…è½¬
  - ğŸ”¯ æ—¥æœ¬æ•…è½¬
  - ğŸ”¯ ç‹®åŸæ•…è½¬
  - ğŸ”¯ å°æ¹¾æ•…è½¬
  - ğŸ”¯ é¦™æ¸¯æ•…è½¬
  - â™»ï¸ ç¾å›½è‡ªåŠ¨
  - â™»ï¸ æ—¥æœ¬è‡ªåŠ¨
  - â™»ï¸ ç‹®åŸè‡ªåŠ¨
  - â™»ï¸ å°æ¹¾è‡ªåŠ¨
  - â™»ï¸ é¦™æ¸¯è‡ªåŠ¨
  - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
  - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
  - ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
  - ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
  - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
  - ğŸŒ å…¨éƒ¨èŠ‚ç‚¹
  - ç›´è¿

# å®šä¹‰é”šç‚¹ï¼šä¼˜å…ˆç›´è¿, ç»Ÿä¸€çš„èŠ‚ç‚¹é¡ºåº (ç¾-æ—¥-æ–°-å°-æ¸¯)
common-proxies-direct: &pr_direct
  - ç›´è¿
  - ğŸ”¯ ç¾å›½æ•…è½¬
  - ğŸ”¯ æ—¥æœ¬æ•…è½¬
  - ğŸ”¯ ç‹®åŸæ•…è½¬
  - ğŸ”¯ å°æ¹¾æ•…è½¬
  - ğŸ”¯ é¦™æ¸¯æ•…è½¬
  - â™»ï¸ ç¾å›½è‡ªåŠ¨
  - â™»ï¸ æ—¥æœ¬è‡ªåŠ¨
  - â™»ï¸ ç‹®åŸè‡ªåŠ¨
  - â™»ï¸ å°æ¹¾è‡ªåŠ¨
  - â™»ï¸ é¦™æ¸¯è‡ªåŠ¨
  - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
  - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
  - ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
  - ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
  - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
  - ğŸŒ å…¨éƒ¨èŠ‚ç‚¹

proxy-groups:
  # --- åŠŸèƒ½ç­–ç•¥ç»„ (ä½¿ç”¨é”šç‚¹ *pr *pr_direct) ---
  - {name: ğŸš€ é»˜è®¤ä»£ç†, type: select, proxies: *pr}
  - {name: ğŸ“¹ YouTube, type: select, proxies: *pr}
  - {name: ğŸ€ Google, type: select, proxies: *pr}
  - {name: ğŸ¤– ChatGPT, type: select, proxies: *pr}
  - {name: ğŸ‘¨ğŸ¿â€ğŸ’» GitHub, type: select, proxies: *pr}
  - {name: ğŸ® Steam, type: select, proxies: *pr_direct}
  - {name: ğŸ¬ OneDrive, type: select, proxies: *pr_direct}
  - {name: â“‚ï¸ Microsoft, type: select, proxies: *pr}
  - {name: ğŸµ TikTok, type: select, proxies: *pr}
  - {name: ğŸ“² Telegram, type: select, proxies: *pr}
  - {name: ğŸ¥ NETFLIX, type: select, proxies: *pr}
  - {name: ğŸ’¶ PayPal, type: select, proxies: *pr}
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼, type: select, proxies: *pr}

  # --- åœ°åŒºèŠ‚ç‚¹é€‰æ‹© (Select - æ‰‹åŠ¨é€‰æ‹©) ---
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, type: select, include-all: true, filter: "(?=.*(ç¾|US|(?i)States|America))^((?!(æ¸¯|å°|éŸ©|æ–°|æ—¥)).)*$"}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, type: select, include-all: true, filter: "(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$"}
  - {name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, type: select, include-all: true, filter: "(?=.*(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore))^((?!(æ¸¯|å°|éŸ©|æ·±|ç¾)).)*$"}
  - {name: ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, type: select, include-all: true, filter: "(?=.*(å°|TW|(?i)Taiwan|(?i)Taipei))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$"}
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, type: select, include-all: true, filter: "(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|æ·±|ç¾)).)*$"}
  
  # --- æ•…éšœè½¬ç§» (Fallback - è‡ªåŠ¨é«˜å¯ç”¨) ---
  - {name: ğŸ”¯ ç¾å›½æ•…è½¬, type: fallback, include-all: true, interval: 300, filter: "(?=.*(ç¾|US|(?i)States|America))^((?!(æ¸¯|å°|éŸ©|æ–°|æ—¥)).)*$"}
  - {name: ğŸ”¯ æ—¥æœ¬æ•…è½¬, type: fallback, include-all: true, interval: 300, filter: "(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$"}
  - {name: ğŸ”¯ ç‹®åŸæ•…è½¬, type: fallback, include-all: true, interval: 300, filter: "(?=.*(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore))^((?!(æ¸¯|å°|éŸ©|æ·±|ç¾)).)*$"}
  - {name: ğŸ”¯ å°æ¹¾æ•…è½¬, type: fallback, include-all: true, interval: 300, filter: "(?=.*(å°|TW|(?i)Taiwan|(?i)Taipei))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$"}
  - {name: ğŸ”¯ é¦™æ¸¯æ•…è½¬, type: fallback, include-all: true, interval: 300, filter: "(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|æ·±|ç¾)).)*$"}

  # --- è‡ªåŠ¨æµ‹é€Ÿ (Url-Test - é€‰æœ€å¿«) ---
  - {name: â™»ï¸ ç¾å›½è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(ç¾|US|(?i)States|America))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$"}
  - {name: â™»ï¸ æ—¥æœ¬è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$"}
  - {name: â™»ï¸ ç‹®åŸè‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore))^((?!(æ¸¯|å°|éŸ©|æ—¥|ç¾)).)*$"}
  - {name: â™»ï¸ å°æ¹¾è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(å°|TW|(?i)Taiwan|(?i)Taipei))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$"}
  - {name: â™»ï¸ é¦™æ¸¯è‡ªåŠ¨, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|æ·±|ç¾)).)*$"}
  
  # --- å…¶ä»– ---
  - {name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "^((?!(ç›´è¿|GB|é«˜çº§|å¥—é¤|Date|Expire|Traffic|Reset)).)*$"}
  - {name: ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, type: select, include-all: true}

rules:
  # 1.ã€æœ€é«˜ä¼˜å…ˆçº§ã€‘å±€åŸŸç½‘ä¸ç§æœ‰åœ°å€ (é˜²æ­¢å›ç¯å’Œå†…ç½‘æ³„éœ²)
  # å¿…é¡»æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œä¸” private_ip å»ºè®®åŠ ä¸Š no-resolve é¿å…ä¸å¿…è¦çš„ DNS è§£æ
  - RULE-SET,private_ip,ç›´è¿,no-resolve
  - RULE-SET,private_domain,ç›´è¿
  
  # 2.ã€ç‰¹å®šç›´è¿ã€‘é«˜é¢‘ã€å¤§æµé‡ä¸”å¿…é¡»ç›´è¿çš„æœåŠ¡
  # æ”¾åœ¨å‰é¢æ˜¯ä¸ºäº†å‡è½»æ€§èƒ½è´Ÿæ‹…ï¼Œæµ‹é€Ÿå’Œè‹¹æœæ›´æ–°æ²¡å¿…è¦å»è·‘åé¢çš„è§„åˆ™
  - RULE-SET,speedtest_domain,ç›´è¿
  - RULE-SET,apple_domain,ç›´è¿  # Apple æœåŠ¡åŒ…å« AppStore ä¸‹è½½ï¼Œå»ºè®®ç›´è¿
  - RULE-SET,apple_ip,ç›´è¿

  # 3.ã€è‡ªå®šä¹‰æ‹¦æˆª/ä»£ç†ã€‘ç”¨æˆ·æ‰‹åŠ¨æŒ‡å®šçš„è§„åˆ™
  - DOMAIN-SUFFIX,qichiyu.com,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,custom,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,proxylite,ğŸš€ é»˜è®¤ä»£ç†

  # 4.ã€ç‰¹å®šåº”ç”¨ä»£ç†ã€‘éœ€è¦åˆ†æµçš„ç‰¹å®š APP
  - RULE-SET,ai,ğŸ¤– ChatGPT
  - RULE-SET,github_domain,ğŸ‘¨ğŸ¿â€ğŸ’» GitHub
  - RULE-SET,steam_domain,ğŸ® Steam
  - RULE-SET,onedrive_domain,ğŸ¬ OneDrive
  - RULE-SET,microsoft_domain,â“‚ï¸ Microsoft
  - RULE-SET,tiktok_domain,ğŸµ TikTok
  - RULE-SET,telegram_domain,ğŸ“² Telegram
  - RULE-SET,telegram_ip,ğŸ“² Telegram
  - RULE-SET,netflix_domain,ğŸ¥ NETFLIX
  - RULE-SET,netflix_ip,ğŸ¥ NETFLIX
  - RULE-SET,paypal_domain,ğŸ’¶ PayPal
  
  # 5.ã€é€šç”¨å¤§å‚ä»£ç†ã€‘
  - RULE-SET,youtube_domain,ğŸ“¹ YouTube
  - RULE-SET,google_domain,ğŸ€ Google
  - RULE-SET,google_ip,ğŸ€ Google

  # 6.ã€å›½å†…è§„åˆ™ã€‘(æ€§èƒ½ä¼˜åŒ–å…³é”®ç‚¹)
  # âš ï¸ å¿…é¡»æŠŠ CN è§„åˆ™æ”¾åœ¨ "geolocation-!cn" ä¹‹å‰ï¼
  # é€»è¾‘ï¼šå¦‚æœæ˜¯å›½å†…åŸŸå->ç›´æ¥èµ°ï¼Œä¸ç”¨å»åŒ¹é…åé¢åºå¤§çš„â€œéå›½å†…â€åˆ—è¡¨ã€‚
  - RULE-SET,cn_domain,ç›´è¿
  - RULE-SET,cn_ip,ç›´è¿

  # 7.ã€å…œåº•è§„åˆ™ã€‘
  # å¦‚æœä¸Šé¢éƒ½æ²¡åŒ¹é…ä¸­ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯â€œéä¸­å›½IP/åŸŸåâ€ã€‚å¦‚æœæ˜¯ï¼Œèµ°é»˜è®¤ä»£ç†ã€‚
  - RULE-SET,geolocation-!cn,ğŸš€ é»˜è®¤ä»£ç†
  
  # 8.ã€æœ€ç»ˆæ¼ç½‘ä¹‹é±¼ã€‘
  # æ—¢ä¸æ˜¯å›½å†…ï¼Œä¹Ÿä¸åœ¨å·²çŸ¥éå›½å†…åˆ—è¡¨é‡Œï¼Œå…¨èµ°ä»£ç†ï¼ˆç™½åå•æ¨¡å¼ï¼Œé˜²å¢™ï¼‰
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

# è§„åˆ™é›† (ä¿æŒä¸å˜)
rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
  class: &class {type: http, interval: 86400, behavior: classical, format: text}
rule-providers: 
  # åŸŸåè§„åˆ™
  # è‡ªå®šä¹‰è§„åˆ™
  custom: { <<: *class, url: "https://raw.githubusercontent.com/lvbibir/clash/refs/heads/master/Ruleset/Linux.list"}
  proxylite: { <<: *class, url: "https://raw.githubusercontent.com/qichiyuhub/rule/refs/heads/main/proxy.list"}

  # fakeipfilter_domain: { <<: *domain, url: "https://raw.githubusercontent.com/wwqgtxx/clash-rules/release/fakeip-filter.mrs"}
  private_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs"}
  ai: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-ai-!cn.mrs" }
  youtube_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs"}
  google_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"}
  github_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs"}
  steam_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/steam.mrs"}
  telegram_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs"}
  netflix_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs"}
  paypal_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/paypal.mrs"}
  onedrive_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs"}
  microsoft_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs"}
  apple_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple.mrs"}
  speedtest_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs"}
  tiktok_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs"}
  geolocation-!cn: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs"}
  cn_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs"}
  
  # IP è§„åˆ™
  private_ip: {<<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs"}
  cn_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs"}
  google_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs"}
  telegram_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs"}
  netflix_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs"}
  apple_ip: {<<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geoip/apple.mrs"}
